/*
 * courier
 * 0.0.1
 * Ferris Tseng
 * 2013-08-16 09:08
 */
!function(){var connectionsSection,downloadUrlForm,fileChunksData,fileForm,fileInfoSection,fileNameData,fileProgressSection,fileSizeData,fileTypeData,logger;window.Development=!0,logger=new Logger("General"),fileForm=$("#file"),fileInfoSection=$("#info"),fileProgressSection=$("#progress"),connectionsSection=$("#connections"),fileNameData=$("#info #filename-val"),fileTypeData=$("#info #type-val"),fileSizeData=$("#info #size-val"),fileChunksData=$("#info #chunks-val"),downloadUrlForm=$("#download #url"),window.P2P=new Host,P2P.on("storageReady",function(){return fileForm.attr("disabled",!1)}),fileForm.on("change",function(event){var file;return file=P2P.host(event.target.files[0]),fileForm.attr("disabled",!0),fileNameData.html(file.name),fileTypeData.html(file.type),fileSizeData.html(""+file.size+" bytes"),fileChunksData.html(file.chunks),fileInfoSection.show(),P2P.on("readProgress",function(r,c){return fileProgressSection.html(""+r+" / "+c)}),P2P.on("fileEnd",function(f,t){return downloadUrlForm.val(""+window.location.protocol+"//"+window.location.host+"/download.html?file="+t)})})}.call(this);